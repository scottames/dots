{{ if eq .chezmoi.os "linux" -}}

# renovate: datasource=github-releases depName=ryanoasis/nerd-fonts
{{ $nerdFontsVersion := "v3.4.0" -}}

[".local/share/fonts/FiraCode"]
    type = "archive"
    url = "https://github.com/ryanoasis/nerd-fonts/releases/download/{{ $nerdFontsVersion }}/FiraCode.zip"
    exact = true
    refreshPeriod = "168h"

[".local/share/fonts/Hack"]
    type = "archive"
    url = "https://github.com/ryanoasis/nerd-fonts/releases/download/{{ $nerdFontsVersion }}/Hack.zip"
    exact = true
    refreshPeriod = "168h"

[".local/share/fonts/Monaspace"]
    type = "archive"
    url = "https://github.com/ryanoasis/nerd-fonts/releases/download/{{ $nerdFontsVersion }}/Monaspace.zip"
    exact = true
    refreshPeriod = "168h"

[".local/share/fonts/RobotoMono"]
    type = "archive"
    url = "https://github.com/ryanoasis/nerd-fonts/releases/download/{{ $nerdFontsVersion }}/RobotoMono.zip"
    exact = true
    refreshPeriod = "168h"

{{ $ubuntuFontsVersion := "0.83" -}}

[".local/share/fonts/ubuntu"]
    type = "archive"
    url = "https://assets.ubuntu.com/v1/0cef8205-ubuntu-font-family-{{ $ubuntuFontsVersion }}.zip"
    exact = true
    refreshPeriod = "168h"
    stripComponents = 1

[".local/bin/keymapp"]
    type = "archive-file"
    url = "https://oryx.nyc3.cdn.digitaloceanspaces.com/keymapp/keymapp-latest.tar.gz"
    path = "keymapp"
    refreshPeriod = "168h"

# renovate: datasource=github-releases depName=gabm/Satty
{{ $sattyVersion := "v0.20.0" -}}

[".local/bin/satty"]
    type = "archive-file"
    url = "https://github.com/gabm/Satty/releases/download/{{ $sattyVersion }}/satty-x86_64-unknown-linux-gnu.tar.gz"
    path = "satty"
    stripComponents = 1
    refreshPeriod = "168h"

[".config/fish/completions/satty.fish"]
  type = "archive-file"
  url = "https://github.com/gabm/Satty/releases/download/{{ $sattyVersion }}/satty-x86_64-unknown-linux-gnu.tar.gz"
  path = "completions/satty.fish"
  stripComponents = 1
  refreshPeriod = "168h"

[".local/share/yubico-authenticator"]
    type = "archive"
    url = "https://developers.yubico.com/yubioath-flutter/Releases/yubico-authenticator-latest-linux.tar.gz"
    exact = true
    stripComponents = 1
    refreshPeriod = "168h"

{{ end -}} # linux

{{- $kiroArch := "x86_64" -}}
{{- if eq .chezmoi.arch "aarch64" }}
{{-   $kiroArch = "aarch64" -}}
{{- end }}

{{- $kiroBins := list "cli" "cli-chat" -}}
{{- range $kiroBin := $kiroBins }}
[".local/bin/kiro-{{ $kiroBin }}"]
type = "archive-file"
url = "https://desktop-release.q.us-east-1.amazonaws.com/latest/kirocli-{{ $kiroArch }}-linux.zip"
path = "kirocli/bin/kiro-{{ $kiroBin }}"
executable = true
refreshPeriod = "24h"
{{ end -}}

#  ╭──────────────────────────────────────────────────────────╮
#  │ file                                                     │
#  ╰──────────────────────────────────────────────────────────╯
[".face"]
    type = "file"
    url = "https://gravatar.com/avatar/{{ .me.gravatar.id }}?s=2048"

# renovate: datasource=github-releases depName=karimould/zellij-forgot
{{ $zellijForgotVersion := "0.4.2" -}}

[".config/zellij/plugins/zellij-forgot.wasm"]
    type = "file"
    url = "https://github.com/karimould/zellij-forgot/releases/download/{{ $zellijForgotVersion }}/zellij_forgot.wasm"
    executable = false
    refreshPeriod = "168h"

# renovate: datasource=github-releases depName=dj95/zjstatus
{{ $zjstatusVersion := "v0.22.0" -}}

[".config/zellij/plugins/zjstatus.wasm"]
    type = "file"
    url = "https://github.com/dj95/zjstatus/releases/download/{{ $zjstatusVersion }}/zjstatus.wasm"
    executable = false
    refreshPeriod = "168h"

# renovate: datasource=github-releases depName=b0o/zjstatus-hints
{{ $zjstatusHintsVersion := "v0.1.4" -}}

[".config/zellij/plugins/zjstatus-hints.wasm"]
    type = "file"
    url = "https://github.com/b0o/zjstatus-hints/releases/download/{{ $zjstatusHintsVersion }}/zjstatus-hints.wasm"
    executable = false
    refreshPeriod = "168h"

# renovate: datasource=github-releases depName=hiasr/vim-zellij-navigator
{{ $vimZellijNavigatorVersion := "0.3.0" -}}

[".config/zellij/plugins/vim-zellij-navigator.wasm"]
    type = "file"
    url = "https://github.com/hiasr/vim-zellij-navigator/releases/download/{{ $vimZellijNavigatorVersion }}/vim-zellij-navigator.wasm"
    executable = false
    refreshPeriod = "168h"

[".config/k9s/skins"]
    type = "archive"
    url = "https://github.com/catppuccin/k9s/archive/main.tar.gz"
    include = ["*/dist/*.yaml"]
    exact = true
    stripComponents = 2
    refreshPeriod = "168h"

[".config/fuzzel/themes"]
    type = "archive"
    url = "https://github.com/catppuccin/fuzzel/archive/main.tar.gz"
    exact = true
    refreshPeriod = "168h"
    stripComponents = 2
    include = ["*/themes/**"]


[".config/yazi/flavors"]
    type = "archive"
    url = "https://github.com/yazi-rs/flavors/archive/main.tar.gz"
    exact = true
    refreshPeriod = "168h"
    stripComponents = 1
    include = ["*/catppuccin-mocha.yazi/**"]

[".config/hypr/themes"]
    type = "archive"
    url = "https://github.com/catppuccin/hyprland/archive/main.tar.gz"
    exact = true
    refreshPeriod = "168h"
    stripComponents = 2
    include = ["*/themes/**"]

[".config/waybar/themes"]
    type = "archive"
    url = "https://github.com/catppuccin/waybar/archive/main.tar.gz"
    exact = true
    refreshPeriod = "168h"
    stripComponents = 2
    include = ["*/themes/**"]

[".config/bat/themes"]
    type = "archive"
    url = "https://github.com/catppuccin/bat/archive/main.tar.gz"
    exact = true
    refreshPeriod = "168h"
    stripComponents = 2
    include = ["*/themes/*.tmTheme"]

#  ╭──────────────────────────────────────────────────────────╮
#  │ git-repo                                                 │
#  │ | pub                                                    │
#  ╰──────────────────────────────────────────────────────────╯
[".config/alacritty/alacritty-themes"]
    type = "git-repo"
    url = "https://github.com/rajasegar/alacritty-themes.git"
    refreshPeriod = "168h"

[".config/alacritty/catppuccin"]
    type = "git-repo"
    url = "https://github.com/catppuccin/alacritty.git"
    refreshPeriod = "168h"

# renovate: datasource=github-releases depName=obra/superpowers
{{ $obraSuperpowersVersion := "v4.1.1" -}}

# https://github.com/obra/superpowers/blob/main/docs/README.opencode.md
# requires symlinks to be functional:
#   home/private_dot_config/opencode/plugins/symlink_superpowers.js.tmpl
#   home/private_dot_config/opencode/skills/symlink_superpowers.tmpl
[".config/opencode/superpowers"]
    type = "git-repo"
    url = "https://github.com/obra/superpowers.git"
    refreshPeriod = "168h"
    args = ["--branch", "{{ $obraSuperpowersVersion }}"]

{{ if not (eq "root" .me.user) -}} # skip if running in CI
{{- if and (lookPath "is-github-authed.sh") (eq (output "is-github-authed.sh") "true") -}}
#  ╭──────────────────────────────────────────────────────────╮
#  │ git-repo                                                 │
#  │ | personal                                               │
#  ╰──────────────────────────────────────────────────────────╯

["src/github.com/scottames/.trunk/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/.trunk.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/.trunk/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/daggerverse/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/daggerverse.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/daggerverse/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/containers/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/containers.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/containers/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/copr/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/copr.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/copr/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/cv/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/cv.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/cv/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/hark/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/hark.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/hark/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/infra/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/infra.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/infra/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/misc/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/misc.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/misc/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/renovate/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/renovate.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/renovate/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/scottames.github.io/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/scottames.github.io.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/scottames.github.io/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/thts/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/thts.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/thts/.bare".clone]
        args = ["--bare"]

["src/github.com/scottames/walls/.bare"]
    type = "git-repo"
    url = "git@github.com:scottames/walls.git"
    refreshPeriod = "0"
    ["src/github.com/scottames/walls/.bare".clone]
        args = ["--bare"]

{{ end -}} # end: is-github-authed
{{ end -}} # end: not root user

# vi: ft=toml
